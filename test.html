<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" href="/icewaternotice.ico" />
        <title>My First HTML Page</title>
        <style>
            :root {
                --text-color: red;
            }
            body.dark {
                --text-color: blue;
            }
        </style>
    </head>
    <body>
        <my-component></my-component>
        <script>
            class MyComponent extends HTMLElement {
                constructor() {
                    super();
                    //shadow root
                    this.attachShadow({ mode: "open" });
                    
                    //create a paragraph element
                    const p = document.createElement("p");
                    p.textContent = "Hello, World!";

                    //append the paragraph element to the shadow root
                    this.shadowRoot.appendChild(p);

                    //style
                    const style = document.createElement("style");
                    style.textContent = /*css*/`
                        p {
                            color: var(--text-color);
                        }

                    `
                    this.shadowRoot.appendChild(style);
                    

                }
            }
            customElements.define("my-component", MyComponent);
        </script>

        <button id="toggle">Toggle</button>
        <script>
            const button = document.getElementById("toggle");
            button.addEventListener("click", () => {
                document.body.classList.toggle("dark");
            });
        </script>
    </body>
</html>